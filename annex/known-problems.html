<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>RACE</title>

        <link href="../race-html.css" rel="stylesheet"/>
    </head>

    <body>
        <div class="navbar">
            <div class=""banner>
                <a href="../index.html" ><img class="logo" src="../images/race128.png"></a>
                <p class="doctitle">RACE Manual</p>
            </div>
            <br/>
            <div class="toc">
                <p class="title">Project Links</p>
                <ul>
                    <li><span class="toc level2"><a href="https://github.com/NASARace/race.git">Repository</a></span></li>
                    <li><span class="toc level2"><a href="http://nasarace.github.io/race">Website</a></span></li>
                </ul>
            </div>
            <div class="toc pagetoc">
                <p class="title">Page</p>
                <ul class="nav-list">
                  <li class="level1 active"><a href="#">Known Problems</a></li>
                  <li class="level2"><a href="#opencl-on-macos-10-14">OpenCL on macOS &gt;= 10.14</a></li>
                  <li class="level2"><a href="#tcp-socket-failures-in-wireless-networks">tcp socket failures in wireless networks</a></li>
                  <li class="level2"><a href="#problems-with-worldwind-jogl-native-libraries-on-linux">problems with WorldWind/JOGL native libraries on Linux</a></li>
                  <li class="level2"><a href="#incompatible-class-file-errors-during-race-startup">incompatible class file errors during RACE startup</a></li>
                  <li class="level2"><a href="#windows-console-output">Windows console output</a></li>
                  <li class="level2"><a href="#race-not-starting-because-of-racevieweractor-timeout">RACE not starting because of RaceViewerActor timeout</a></li>
                </ul>
            </div>
            <div class="toc globaltoc">
                <p class="title">Site</p>
                <ul class="nav-list">
                  <li class="level1 nav-header">RACE Manual</li>
                  <li class="level2"><a href="../index.html">About RACE</a></li>
                  <li class="level2 nav-header">Installing RACE</li>
                  <li class="level3"><a href="../installation/prerequisites.html">Prerequisites</a></li>
                  <li class="level3"><a href="../installation/download.html">Downloading RACE</a></li>
                  <li class="level3"><a href="../installation/build.html">Building RACE</a></li>
                  <li class="level3"><a href="../installation/pitfalls.html">Installation Pitfalls</a></li>
                  <li class="level3"><a href="../installation/osx.html">OS X Specifics</a></li>
                  <li class="level2 nav-header">Using RACE</li>
                  <li class="level3"><a href="../usage/running.html">How to Run RACE</a></li>
                  <li class="level3"><a href="../usage/configuration.html">RACE Configuration</a></li>
                  <li class="level3"><a href="../usage/encryption.html">Using Encrypted Configurations</a></li>
                  <li class="level2 nav-header">RACE Design</li>
                  <li class="level3"><a href="../design/overview.html">Design Overview</a></li>
                  <li class="level3"><a href="../design/actors.html">Actors</a></li>
                  <li class="level3"><a href="../design/configuration.html">Runtime Configuration</a></li>
                  <li class="level3"><a href="../design/raceactors.html">RaceActors</a></li>
                  <li class="level3"><a href="../design/channeltopics.html">ChannelTopics</a></li>
                  <li class="level3"><a href="../design/embedded-objects.html">Embedded Objects</a></li>
                  <li class="level3"><a href="../design/connectivity.html">Connecting External Systems</a></li>
                  <li class="level3"><a href="../design/remoting.html">Remote RaceActors and Distributed RACE Applications</a></li>
                  <li class="level3"><a href="../design/remotelauncher.html">RemoteLauncher</a></li>
                  <li class="level3"><a href="../design/hc.html">Heterogeneous Computing in RACE</a></li>
                  <li class="level3"><a href="../design/parsing.html">RACE Parsers</a></li>
                  <li class="level3"><a href="../design/archive-replay.html">Archive and Replay</a></li>
                  <li class="level3"><a href="../design/timeseries.html">Time Series Analysis</a></li>
                  <li class="level3"><a href="../design/trajectory.html">Trajectory Infrastructure</a></li>
                  <li class="level3"><a href="../design/rgis.html">RACE GIS Support</a></li>
                  <li class="level3"><a href="../design/worldwind.html">WorldWind Viewer</a></li>
                  <li class="level3"><a href="../design/http-server.html">HttpServer</a></li>
                  <li class="level3"><a href="../design/http-client.html">HttpImportActor</a></li>
                  <li class="level3"><a href="../design/share.html">SHARE - System for Hierarchical Ad hoc Reporting</a></li>
                  <li class="level3"><a href="../design/layers-and-modules.html">Layers and Modules</a></li>
                  <li class="level3"><a href="../design/directory-structure.html">Directory Structure</a></li>
                  <li class="level3"><a href="../design/repository.html">Repository Structure</a></li>
                  <li class="level3"><a href="../design/local-build.html">Local Build Configuration</a></li>
                  <li class="level3"><a href="../design/dds.html">RACE and DDS</a></li>
                  <li class="level3"><a href="../design/extproject.html">Using RACE from External Projects</a></li>
                  <li class="level3"><a href="../design/whyscala.html">Why Scala</a></li>
                  <li class="level2 nav-header">Documentation</li>
                  <li class="level3"><a href="../documentation/overview.html">RACE Documentation Overview</a></li>
                  <li class="level3"><a href="../documentation/presentations.html">Available Slide Presentations</a></li>
                  <li class="level2 nav-header">Annex</li>
                  <li class="level3"><a href="project-log.html">Project Log</a></li>
                  <li class="level3"><a href="examples.html">RACE Examples</a></li>
                  <li class="level3 active"><a href="#">Known Problems</a></li>
                  <li class="level3"><a href="changes.html">Changes</a></li>
                  <li class="level3"><a href="todo.html">TODO List</a></li>
                  <li class="level3"><a href="learning.html">Learning Resources</a></li>
                  <li class="level3"><a href="glossary.html">Glossary</a></li>
                </ul>
            </div>
        </div>

        <div class="main">
            <h1 id="known-problems" class="title">Known Problems</h1>
            
            <h2 id="opencl-on-macos-10-14" class="section"><a class="anchor-link left" href="#opencl-on-macos-10-14"><i class="icofont-laika">&#xef71;</i></a>OpenCL on macOS &gt;= 10.14</h2>
            <p>Since Apple deprecated OpenCL in macOS 10.14 it has become increasingly unstable on some 2019 15&quot; MacBookPro
            machines, resulting in spurious native errors (CL<em>DEVICE</em>NOT_AVAILABLE, &quot;No CVMS service&quot; and others). There is no
            known workaround yet - OpenCL on Apple hardware seems unreliable</p>
            
            <h2 id="tcp-socket-failures-in-wireless-networks" class="section"><a class="anchor-link left" href="#tcp-socket-failures-in-wireless-networks"><i class="icofont-laika">&#xef71;</i></a>tcp socket failures in wireless networks</h2>
            <p>In high data volume import applications such as config/air/swim-all-sbs-ww.conf import threads sometimes seem to
            hang due to underlying socket streams being closed while the socket is still connected. This happened under macOS
            10.15.7 and OpenJDK build 16+36-2231. While actors that directly handle the socket (such as SbsImportActor) should
            now try to reconnect, actors that use 3rd party libraries such as ActiveMQ to obtain input seem to not detect this case
            and stop to import. It seems this only happens when using wireless network connections (not Ethernet)</p>
            
            <h2 id="problems-with-worldwind-jogl-native-libraries-on-linux" class="section"><a class="anchor-link left" href="#problems-with-worldwind-jogl-native-libraries-on-linux"><i class="icofont-laika">&#xef71;</i></a>problems with WorldWind/JOGL native libraries on Linux</h2>
            <p>Some Linux distributions have JDK packages that cause linker (ld.so) errors when loading
            the native libraries required by WorldWind. The remedy is to use https://github.com/pcmehlitz/WorldWindJava-pcm.git
            versions &gt;= 2.1.0.202, which include snapshots of compatible native libraries as unmanaged dependencies</p>
            
            <h2 id="incompatible-class-file-errors-during-race-startup" class="section"><a class="anchor-link left" href="#incompatible-class-file-errors-during-race-startup"><i class="icofont-laika">&#xef71;</i></a>incompatible class file errors during RACE startup</h2>
            <p>While RACE could still work on Java 1.8, it uses a lot of 3rd party libraries (automatically
            downloaded from Maven Central by SBT) which at this point have been built on newer Java versions
            and hence cause incompatible class file errors during RACE load time. It is therefore recommended
            to always use the latest stable Java/JDK release.</p>
            
            <h2 id="windows-console-output" class="section"><a class="anchor-link left" href="#windows-console-output"><i class="icofont-laika">&#xef71;</i></a>Windows console output</h2>
            <p>The standard Windows 10 console (command prompt) does not enable ANSI terminal sequences (color
            and control), which is used by RACEs <code>ConsoleMain</code> driver (menus). As a workaround, use the
            open sourced <a href="https://github.com/adoxa/ansicon">ansicon</a> to enable ANSI sequences.</p>
            
            <h2 id="race-not-starting-because-of-racevieweractor-timeout" class="section"><a class="anchor-link left" href="#race-not-starting-because-of-racevieweractor-timeout"><i class="icofont-laika">&#xef71;</i></a>RACE not starting because of RaceViewerActor timeout</h2>
            <p>On machines with slow graphics and network configurations that use a RaceViewerActor (WorldWind)
            might not start because the actor does run into initialization timeout, especially if the map
            cache is not populated. As a quick fix, start RACE with</p>
            <pre><code>./race -Drace.timeout=30 ...
</code></pre>
            <p>If this succeeds, you can specifically set a <code>create-timeout</code> in the actor config of the
            RaceActorViewer (each actor can be parameterized with <code>create-timeout</code>, <code>init-timeout</code> and
            <code>start-timeout</code>, referring to respective actor lifetime phases)</p>
        </div>

    </body>
</html>