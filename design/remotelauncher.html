<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>RACE</title>

        <link href="../race-html.css" rel="stylesheet"/>
    </head>

    <body>
        <div class="navbar">
            <div class=""banner>
                <a href="index.html" ><img class="logo" src="../images/race128.png"></a>
                <p class="doctitle">RACE Manual</p>
            </div>
            <br/>
            <div class="toc">
                <p class="title">Project Links</p>
                <ul>
                    <li><span class="toc level2"><a href="https://github.com/NASARace/race.git">Repository</a></span></li>
                    <li><span class="toc level2"><a href="http://nasarace.github.io/race">Website</a></span></li>
                </ul>
            </div>
            <div class="pagetoc">
                <div class="toc">
                  <p class="title">Page</p>
                </div>
            </div>
            <div class="globaltoc">
                <div class="toc">
                  <p class="title">Site</p>
                  <ul>
                    <li><span class="toc level1"><a href="../index.html">About RACE</a></span></li>
                    <li><span class="toc level1"><a href="../project-log.html">Project Log</a></span></li>
                    <li>
                      <p class="toc level1">Installing RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="../installation/prerequisites.html">Prerequisites</a></span></li>
                        <li><span class="toc level2"><a href="../installation/download.html">Downloading RACE</a></span></li>
                        <li><span class="toc level2"><a href="../installation/build.html">Building RACE</a></span></li>
                        <li><span class="toc level2"><a href="../installation/pitfalls.html">Installation Pitfalls</a></span></li>
                        <li><span class="toc level2"><a href="../installation/osx.html">OS X Specifics</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Using RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="../usage/running.html">How to Run RACE</a></span></li>
                        <li><span class="toc level2"><a href="../usage/configuration.html">RACE Configuration</a></span></li>
                        <li><span class="toc level2"><a href="../usage/encryption.html">Using Encrypted Configurations</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="../actors.html">Actors</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="../actors.html#actor-components-and-properties">Actor Components and Properties</a></span></li>
                        <li><span class="toc level2"><a href="../actors.html#actor-communication">Actor Communication</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">RACE Design</p>
                      <ul>
                        <li><span class="toc level2"><a href="overview.html">Design Overview</a></span></li>
                        <li><span class="toc level2"><a href="configuration.html">Runtime Configuration</a></span></li>
                        <li><span class="toc level2"><a href="raceactors.html">RaceActors</a></span></li>
                        <li><span class="toc level2"><a href="channeltopics.html">ChannelTopics</a></span></li>
                        <li><span class="toc level2"><a href="embedded-objects.html">Embedded Objects</a></span></li>
                        <li><span class="toc level2"><a href="connectivity.html">Connecting External Systems</a></span></li>
                        <li><span class="toc level2"><a href="archive-replay.html">Archive and Replay</a></span></li>
                        <li><span class="toc level2"><a href="worldwind.html">WorldWind Viewer</a></span></li>
                        <li><span class="toc level2"><a href="http-server.html">HttpServer</a></span></li>
                        <li><span class="toc level2"><a href="timeseries.html">Time Series Analysis</a></span></li>
                        <li><span class="toc level2 active">RemoteLauncher</span></li>
                        <li><span class="toc level2"><a href="layers-and-modules.html">Layers and Modules</a></span></li>
                        <li><span class="toc level2"><a href="directory-structure.html">Directory Structure</a></span></li>
                        <li><span class="toc level2"><a href="repository.html">Repository Structure</a></span></li>
                        <li><span class="toc level2"><a href="local-build.html">Local Build Configuration</a></span></li>
                        <li><span class="toc level2"><a href="dds.html">RACE and DDS</a></span></li>
                        <li><span class="toc level2"><a href="extproject.html">Using RACE from External Projects</a></span></li>
                        <li><span class="toc level2"><a href="whyscala.html">Why Scala</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="../examples.html">RACE Examples</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="../examples.html#basic-examples">Basic Examples</a></span></li>
                        <li><span class="toc level2"><a href="../examples.html#distributed-operation">Distributed Operation</a></span></li>
                        <li><span class="toc level2"><a href="../examples.html#live-data-import">Live Data Import</a></span></li>
                        <li><span class="toc level2"><a href="../examples.html#data-replay">Data Replay</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Documentation</p>
                      <ul>
                        <li><span class="toc level2"><a href="../documentation/overview.html">RACE Documentation Overview</a></span></li>
                        <li><span class="toc level2"><a href="../documentation/presentations.html">Available Slide Presentations</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="../known-problems.html">Known Problems</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="../known-problems.html#build">Build</a></span></li>
                        <li><span class="toc level2"><a href="../known-problems.html#runtime">Runtime</a></span></li>
                      </ul>
                    </li>
                    <li><span class="toc level1"><a href="../changes.html">Changes</a></span></li>
                    <li><span class="toc level1"><a href="../todo.html">TODO List</a></span></li>
                    <li>
                      <p class="toc level1"><a href="../learning.html">Learning Resources</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="../learning.html#scala">Scala</a></span></li>
                        <li><span class="toc level2"><a href="../learning.html#actors-and-akka">Actors and Akka</a></span></li>
                        <li><span class="toc level2"><a href="../learning.html#sbt">SBT</a></span></li>
                        <li><span class="toc level2"><a href="../learning.html#interactive-scala-akka-and-sbt-learning-environment-and-examples">Interactive Scala, Akka and SBT Learning Environment and Examples</a></span></li>
                        <li><span class="toc level2"><a href="../learning.html#git">Git</a></span></li>
                      </ul>
                    </li>
                    <li><span class="toc level1"><a href="../glossary.html">Glossary</a></span></li>
                  </ul>
                </div>
            </div>
        </div>

        <div class="main">
            <h1 id="remotelauncher" class="title">RemoteLauncher</h1>
            <p>The RemoteLauncher infrastructure allows to securely start, monitor and control remotely running RACE
            processes through <a href="https://en.wikipedia.org/wiki/Secure_Shell">SSH</a>, and to manage global resources such as configuration files and user ids in
            one location.</p>
            <p>While the <code>ConsoleMain</code> and <code>SwingMain</code> drivers are used to interactively run RACE processes
            on a local machine, RACE also supports a scenario in which complex simulations are executed on a
            pool of (remote and/or virtual) machines. Moreover, these machines might be connected over untrusted
            networks, and might not have access to sensitive or frequently changed configuration data.</p>
            <p>The user id for the remotely running RACE does not have to correspond to the physical user
            requesting/controlling the simulation, which not only supports a large and changing user base, but
            also - for security reasons - configuration of remote machines without login prompts.</p>
            <p>The main RemoteLauncher components are:</p>
            <ul>
              <li><code>RemoteMain</code> - the remotely running, non-interactive RACE driver</li>
              <li><code>RemoteLauncher</code> - the 1:1 counterpart of a <code>RemoteMain</code> instance on the controlling machine</li>
            </ul>
            <p>- <code>ConsoleRemoteLauncher</code> - an interactive front end for a <code>RemoteLauncher</code> on the controlling
            machine
            - <code>RemoteLauncherServer</code> - a server that manages multiple <code>RemoteLauncher</code> instances and makes them
            accessible to external clients such as web applications
            - <code>ConsoleLauncherClient</code> - a console based interactive client for the <code>RemoteLauncherServer</code></p>
            <p>The primary mode of operation is to control several <code>RemoteMain</code> instances from a single machine,
            therefore <code>ConsoleRemoteLauncher</code> and <code>ConsoleLauncherClient</code> are mostly intended as testing
            tools.</p>
            <p><img class="center" src="../images/remotelauncher-2.svg" alt="RACE overview"></p>
            <p>The <code>RemoteLauncher</code> uses SSH to start the <code>RemoteMain</code> process with reverse port forwarding for
            a socket that is used to transmit control messages that implement a handshake protocol, independently
            of the captured remote stdio streams. This protocol between <code>RemoteLauncher</code> and <code>RemoteMain</code> is
            implemented in its own traits and can be extended.</p>
            <p>The default protocol starts by transmitting a SESSION message with a session specific token from the
            launcher to the launchee, to which the launchee replies with a LIVE message that contains its
            process id.</p>
            <p>Once the launcher receives this reply, it proceeds to sending a LAUNCH command that contains the
            RACE configuration data the <code>RemoteMain</code> should run, which can also include an encrypted config
            vault.</p>
            <p>Once the <code>RemoteMain</code> is running, the <code>RemoteLauncher</code> can use INSPECT commands to query its
            state, and a TERMINATE command to gracefully shut it down.</p>
            <p>Since this is a SSH session, the <code>RemoteLauncher</code> can monitor the lifetime of the remote process
            without having to rely on the protocol.</p>
            <p>In addition to the control socket, the RemoteLauncher can also reverse port forward sockets that
            connect to external servers which should not be exposed to the remote machine, i.e. it can act
            as a gateway. Tunneling both control and data sockets through SSH ensures that all content is
            securely encrypted.</p>
        </div>

    </body>
</html>