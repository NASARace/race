<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>RACE</title>

        <link href="../race-html.css" rel="stylesheet"/>
    </head>

    <body>
        <div class="navbar">
            <div class=""banner>
                <a href="../index.html" ><img class="logo" src="../images/race128.png"></a>
                <p class="doctitle">RACE Manual</p>
            </div>
            <br/>
            <div class="toc">
                <p class="title">Project Links</p>
                <ul>
                    <li><span class="toc level2"><a href="https://github.com/NASARace/race.git">Repository</a></span></li>
                    <li><span class="toc level2"><a href="http://nasarace.github.io/race">Website</a></span></li>
                </ul>
            </div>
            <div class="toc pagetoc">
                <p class="title">Page</p>
                <ul class="nav-list">
                  <li class="level1 active"><a href="#">Using RACE from External Projects</a></li>
                  <li class="level2"><a href="#artifact-server-and-dependency-definition">Artifact Server and Dependency Definition</a></li>
                  <li class="level2"><a href="#versioning-policy">Versioning Policy</a></li>
                  <li class="level2"><a href="#example-client-project">Example Client Project</a></li>
                </ul>
            </div>
            <div class="toc globaltoc">
                <p class="title">Site</p>
                <ul class="nav-list">
                  <li class="level1 nav-header">RACE Manual</li>
                  <li class="level2"><a href="../index.html">About RACE</a></li>
                  <li class="level2 nav-header">Installing RACE</li>
                  <li class="level3"><a href="../installation/prerequisites.html">Prerequisites</a></li>
                  <li class="level3"><a href="../installation/download.html">Downloading RACE</a></li>
                  <li class="level3"><a href="../installation/build.html">Building RACE</a></li>
                  <li class="level3"><a href="../installation/pitfalls.html">Installation Pitfalls</a></li>
                  <li class="level3"><a href="../installation/osx.html">OS X Specifics</a></li>
                  <li class="level2 nav-header">Using RACE</li>
                  <li class="level3"><a href="../usage/running.html">How to Run RACE</a></li>
                  <li class="level3"><a href="../usage/configuration.html">RACE Configuration</a></li>
                  <li class="level3"><a href="../usage/encryption.html">Using Encrypted Configurations</a></li>
                  <li class="level2 nav-header">RACE Design</li>
                  <li class="level3"><a href="overview.html">Design Overview</a></li>
                  <li class="level3"><a href="actors.html">Actors</a></li>
                  <li class="level3"><a href="configuration.html">Runtime Configuration</a></li>
                  <li class="level3"><a href="raceactors.html">RaceActors</a></li>
                  <li class="level3"><a href="channeltopics.html">ChannelTopics</a></li>
                  <li class="level3"><a href="embedded-objects.html">Embedded Objects</a></li>
                  <li class="level3"><a href="connectivity.html">Connecting External Systems</a></li>
                  <li class="level3"><a href="remoting.html">Remote RaceActors and Distributed RACE Applications</a></li>
                  <li class="level3"><a href="remotelauncher.html">RemoteLauncher</a></li>
                  <li class="level3"><a href="hc.html">Heterogeneous Computing in RACE</a></li>
                  <li class="level3"><a href="parsing.html">RACE Parsers</a></li>
                  <li class="level3"><a href="archive-replay.html">Archive and Replay</a></li>
                  <li class="level3"><a href="timeseries.html">Time Series Analysis</a></li>
                  <li class="level3"><a href="trajectory.html">Trajectory Infrastructure</a></li>
                  <li class="level3"><a href="rgis.html">RACE GIS Support</a></li>
                  <li class="level3"><a href="worldwind.html">WorldWind Viewer</a></li>
                  <li class="level3"><a href="http-server.html">HttpServer</a></li>
                  <li class="level3"><a href="http-client.html">HttpImportActor</a></li>
                  <li class="level3"><a href="share.html">SHARE - System for Hierarchical Ad hoc Reporting</a></li>
                  <li class="level3"><a href="layers-and-modules.html">Layers and Modules</a></li>
                  <li class="level3"><a href="directory-structure.html">Directory Structure</a></li>
                  <li class="level3"><a href="repository.html">Repository Structure</a></li>
                  <li class="level3"><a href="local-build.html">Local Build Configuration</a></li>
                  <li class="level3"><a href="dds.html">RACE and DDS</a></li>
                  <li class="level3 active"><a href="#">Using RACE from External Projects</a></li>
                  <li class="level3"><a href="whyscala.html">Why Scala</a></li>
                  <li class="level2 nav-header">Documentation</li>
                  <li class="level3"><a href="../documentation/overview.html">RACE Documentation Overview</a></li>
                  <li class="level3"><a href="../documentation/presentations.html">Available Slide Presentations</a></li>
                  <li class="level2 nav-header">Annex</li>
                  <li class="level3"><a href="../annex/project-log.html">Project Log</a></li>
                  <li class="level3"><a href="../annex/examples.html">RACE Examples</a></li>
                  <li class="level3"><a href="../annex/known-problems.html">Known Problems</a></li>
                  <li class="level3"><a href="../annex/changes.html">Changes</a></li>
                  <li class="level3"><a href="../annex/todo.html">TODO List</a></li>
                  <li class="level3"><a href="../annex/learning.html">Learning Resources</a></li>
                  <li class="level3"><a href="../annex/glossary.html">Glossary</a></li>
                </ul>
            </div>
        </div>

        <div class="main">
            <h1 id="using-race-from-external-projects" class="title">Using RACE from External Projects</h1>
            <p>RACE is a system that is meant to be extended by writing new actors, but those actors do not have to reside
            within RACE. Extending RACE does not mean you have to clone and modify it - you can use RACE as a library.</p>
            
            <h2 id="artifact-server-and-dependency-definition" class="section"><a class="anchor-link left" href="#artifact-server-and-dependency-definition"><i class="icofont-laika">&#xef71;</i></a>Artifact Server and Dependency Definition</h2>
            <p>Artifacts (jars) of various RACE <a href="layers-and-modules.html#layers-and-modules">Layers and Modules</a> are published on the <a href="http://central.sonatype.org/">Central_Repository</a> within the
            <code>gov.nasa.race</code> group, and can be imported into external projects by declaring them as normal dependencies within
            their respective build configurations. For <a href="http://www.scala-sbt.org/">SBT</a>, a typical dependency definition in <code>build.sbt</code> for the latest
            1.5.x release of RACE would be:</p>
            <pre><code>libraryDependencies += &quot;gov.nasa.race&quot; %% &quot;race-core&quot; % &quot;1.5.+&quot;</code></pre>
            <p>Typical RACE module dependencies are</p>
            <ul>
              <li><code>race-core</code> - the basic RACE module containing <code>RaceActor</code>, <code>RaceActorSystem</code> and other core classes</li>
              <li><code>race-net-jms</code> - the module providing actors to import from and export to JMS servers</li>
              <li><code>race-ww</code> - provides the <code>RaceViewerActor</code> that encapsulates the <a href="https://worldwind.arc.nasa.gov/">NASA WorldWind</a> geospatial viewer</li>
              <li><code>race-air</code> - airspace simulation specific actors and other classes</li>
              <li><code>race-ww-air</code> - <a href="https://worldwind.arc.nasa.gov/">NASA WorldWind</a> based visualization for airspace objects such as flights and flight paths</li>
            </ul>
            <p>Note that not every RACE revision is published on the <a href="http://central.sonatype.org/">Central_Repository</a>. If you need access to development snapshots
            of RACE, you can publish it locally to avoid any changes in the build configuration of your project:</p>
            <pre><code>$ git clone https://github.com/NASARace/race.git
$ cd race
$ sbt publishLocal</code></pre>
            <p>RACE and the client project(s) do not have to reside in the same directory tree.</p>
            
            <h2 id="versioning-policy" class="section"><a class="anchor-link left" href="#versioning-policy"><i class="icofont-laika">&#xef71;</i></a>Versioning Policy</h2>
            <p>RACE uses a simple 3-level <em>&lt;major&gt;.&lt;minor&gt;.&lt;micro&gt;</em> versioning scheme. <em>&lt;major&gt;</em> release changes happen infrequently
            and are mostly organizational, they are not directly related to compatibility. Within the same <em>&lt;minor&gt;</em> version public
            API changes should be backwards compatible and should not require adaptation of external clients. Note that each lower
            level number is reset when the parent level changes.</p>
            <p>Typical version specifications in dependencies are:</p>
            <ul>
              <li><code>&quot;latest.release&quot;</code> - the latest</li>
              <li><code>&quot;1.5.+&quot;</code> - the latest version within the &quot;1.5&quot; line, to ensure API compatibility</li>
              <li><code>&quot;1.5.3&quot;</code> - an explicit version</li>
            </ul>
            <p>While version specifications for RACE modules could differ, it is recommended to use a single specification for all
            modules, e.g. by defining a common <code>raceVersion</code> variable.</p>
            
            <h2 id="example-client-project" class="section"><a class="anchor-link left" href="#example-client-project"><i class="icofont-laika">&#xef71;</i></a>Example Client Project</h2>
            <p>A minimal example that shows how to use RACE as a library can be found on <a href="https://github.com/NASARace/race-client-example">https://github.com/NASARace/race-client-example</a>.
            This example consists of a single <a href="https://github.com/NASARace/race-client-example/blob/master/src/main/scala/TLEActor.scala">TLEActor</a> which is written in Scala and displays satellite orbit positions for
            configured satellites. The <a href="https://github.com/NASARace/race-client-example">race-client-example</a> project uses <a href="http://www.scala-sbt.org/">SBT</a> as build system, the respective RACE dependencies
            are ordinary SBT settings. The <code>build.sbt</code> looks like this:</p>
            <pre><code>name := &quot;race-client-example&quot;
scalaVersion := &quot;2.12.1&quot;

// those settings are not RACE specific but recommended when running applications from within a SBT shell
fork in run := true
outputStrategy := Some(StdoutOutput)
Keys.connectInput in run := true

val raceVersion = &quot;1.5.+&quot;  // the latest revision within the &quot;1.5&quot; line

lazy val root = (project in file(&quot;.&quot;)).
  enablePlugins(JavaAppPackaging). // provides &#39;stage&#39; task to generate stand alone scripts that can be executed outside SBT
  settings(
    mainClass in Compile := Some(&quot;gov.nasa.race.main.ConsoleMain&quot;),  // we just use RACEs driver
    libraryDependencies ++= Seq(
      &quot;gov.nasa.race&quot; %% &quot;race-core&quot; % raceVersion,
      &quot;gov.nasa.race&quot; %% &quot;race-air&quot; % raceVersion,
      &quot;gov.nasa.race&quot; %% &quot;race-ww&quot; % raceVersion,
      &quot;gov.nasa.race&quot; %% &quot;race-ww-air&quot; % raceVersion,
      // ... other dependencies
    )
)</code></pre>
            <p>Note that this example project does not provide a main class of its own, it just re-uses the <code>gov.nasa.race.main.ConsoleMain</code>
            exported by RACE. The RACE artifacts are available on the usual <code>maven.org</code> servers and hence do not need any special
            resolver configuration. Dependency specifications for other build systems such as Maven or Gradle can be found by visiting
            <a href="https://search.maven.org">https://search.maven.org</a> and entering the required module (e.g. <code>race-ww-air</code>).</p>
            <p>There are no special considerations for external actors or <code>*.conf</code> files - they follow the same rules as laid out in
            the <a href="raceactors.html#raceactors">RaceActors</a> and <a href="configuration.html#runtime-configuration">Runtime Configuration</a> sections.</p>
        </div>

    </body>
</html>