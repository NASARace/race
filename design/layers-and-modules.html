<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>RACE</title>

        <link href="../race-html.css" rel="stylesheet"/>
    </head>

    <body>
        <div class="navbar">
            <div class=""banner>
                <a href="index.html" ><img class="logo" src="../images/race128.png"></a>
                <p class="doctitle">RACE Manual</p>
            </div>
            <br/>
            <div class="globaltoc">
                <div class="toc">
                  <p class="title">Contents</p>
                  <ul>
                    <li><span class="toc level1"><a href="../about.html">About RACE</a></span></li>
                    <li>
                      <p class="toc level1">Installing RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="../installation/prerequisites.html">Prerequisites</a></span></li>
                        <li><span class="toc level2"><a href="../installation/download.html">Downloading RACE</a></span></li>
                        <li><span class="toc level2"><a href="../installation/build.html">Building RACE</a></span></li>
                        <li><span class="toc level2"><a href="../installation/osx.html">OS X Specifics</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Using RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="../usage/running.html">How to Run RACE</a></span></li>
                        <li><span class="toc level2"><a href="../usage/configuration.html">RACE Configuration</a></span></li>
                        <li><span class="toc level2"><a href="../usage/encryption.html">Using Encrypted Configurations</a></span></li>
                        <li><span class="toc level2"><a href="../usage/examples.html">RACE examples</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="../actors.html">Actors</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="../actors.html#actor-components-and-properties">Actor Components and Properties</a></span></li>
                        <li><span class="toc level2"><a href="../actors.html#actor-communication">Actor Communication</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">RACE Design</p>
                      <ul>
                        <li><span class="toc level2"><a href="overview.html">Design Overview</a></span></li>
                        <li><span class="toc level2"><a href="configuration.html">Runtime Configuration</a></span></li>
                        <li><span class="toc level2"><a href="raceactors.html">RaceActors</a></span></li>
                        <li><span class="toc level2"><a href="channeltopics.html">ChannelTopics</a></span></li>
                        <li><span class="toc level2"><a href="worldwind.html">WorldWind Viewer</a></span></li>
                        <li><span class="toc level2"><a href="remotelauncher.html">RemoteLauncher</a></span></li>
                        <li><span class="toc level2 active">Layers and Modules</span></li>
                        <li><span class="toc level2"><a href="directory-structure.html">Directory Structure</a></span></li>
                        <li><span class="toc level2"><a href="whyscala.html">Why Scala</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="../examples.html">RACE Examples</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="../examples.html#basic-examples">Basic Examples</a></span></li>
                        <li><span class="toc level2"><a href="../examples.html#distributed-operation">Distributed Operation</a></span></li>
                        <li><span class="toc level2"><a href="../examples.html#live-data-import">Live Data Import</a></span></li>
                        <li><span class="toc level2"><a href="../examples.html#data-replay">Data Replay</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Documentation</p>
                      <ul>
                        <li><span class="toc level2"><a href="../documentation/overview.html">RACE Documentation Overview</a></span></li>
                        <li><span class="toc level2"><a href="../documentation/presentations.html">Available Slide Presentations</a></span></li>
                      </ul>
                    </li>
                    <li><span class="toc level1"><a href="../glossary.html">Glossary</a></span></li>
                  </ul>
                </div>
            </div>
            <div class="pagetoc">
                <div class="toc">
                  <p class="title">Page</p>
                </div>
            </div>
            <div class="toc">
                <p class="title">Project Links</p>
                <ul>
                    <li><span class="toc level2"><a href="https://github.com/NASARace/race.git">Repository</a></span></li>
                    <li><span class="toc level2"><a href="http://nasarace.github.io/race">Website</a></span></li>
                </ul>
            </div>
        </div>

        <div class="main">
            <h1 id="layers-and-modules" class="title">Layers and Modules</h1>
            <p>The RACE distribution is divided into several modules that mostly act as layers, enforcing a
            clear dependency relationship by means of a build system with separate compilation steps. Each
            layer is only allowed to access lower layers.</p>
            <p>From bottom to top:</p>
            <p><strong>common</strong> is the lowest layer that just serves the purpose of factoring out functions and data
            types that are used by several higher layers, with the goal of avoiding redundant code. Apart from a
            <code>gov.nasa.race.common</code> package object that especially holds general control abstractions, this
            layer mainly consists of xUtils objects, which are in turn just function modules
            (<code>CryptUtils</code>,<code>FileUtils</code>,<code>NetUtils</code> etc.). The common layer also contains the
            <code>XmlPullParser</code>, which is a high performance non-validating XML pull parser that keeps track
            of element nesting and hence is suitable for selective XML parsing.</p>
            <p><strong>swing</strong> is a special layer for common graphical user interface functions, which are based on
            a Scala abstraction layer on top of <code>javax.swing</code>. Apart from custom widgets this especially
            holds support for CSS like styling of Swing components.</p>
            <p><strong>core</strong> is the layer that implements the basic runtime structure of RACE as described in the
            <a href="raceactors.html#raceactors">RaceActors</a> section, consisting of:</p>
            <ul>
              <li><code>RaceActor</code> (and derived traits such as <code>SubscribingRaceActor</code> and <code>PublishingRaceActor</code>)</li>
              <li><code>MasterActor</code> (which instantiates and supervises configured RaceActors)</li>
              <li><code>RaceActorSystem</code> (the aggregate object for master, bus and RaceActors)</li>
            </ul>
            <p>The core layer also includes the bus implementation and system message definitions.</p>
            <p><strong>data</strong> is the first domain specific layer, which is supposed to hold common functions and types
            for domain specific actors. It currently contains code for great circle calculations, generic
            flight positions, and especially generic filters and translators that can be used to configure
            generic import and translator actors.</p>
            <p><strong>actors</strong> contains the majority of RaceActors that are distributed with RACE. This module is
            subdivided into various categories (imports,exports,bridges,filters,routers etc.) as it is supposed
            to grow considerably.</p>
            <p><strong>ww</strong> is the module that provides an extensible geo-spatial viewer infrastructure based on
            <a href="https://goworldwind.org/">NASA WorldWind</a>. This includes not only the actor that creates and interfaces to a WorldWind
            window, but also WorldWind-layer classes with associated actors to simplify display
            of dynamic data received via RACE channels.</p>
            <p><strong>tools</strong> contains a number of main classes that support RACE end-users, such as encryption and
            decryption of configuration files</p>
            <p><strong>test-tools</strong> holds convenience wrappers around some complex 3rd party servers RACE can interface
            to, such as a <a href="http://activemq.apache.org/">ActiveMQ</a> JMS server or a <a href="http://kafka.apache.org/">Kafka</a> server</p>
            <p>Last not least, the top level module holds the code for the various RACE drivers, including
            <code>gov.nasa.race.ConsoleMain</code> and the <a href="remotelauncher.html#remotelauncher">RemoteLauncher</a> infrastructure.</p>
            <p>Code for each layer (except of the toplevel) is located in a &quot;race-&lt;layer&gt;&quot; subdirectory, and
            belongs to a <code>gov.nasa.race.&lt;layer&gt;</code> package. Each layer is compiled separately, making sure
            it can only depend on lower layers.</p>
        </div>

    </body>
</html>