<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>RACE</title>

        <link href="./race-html.css" rel="stylesheet"/>
    </head>

    <body>
        <div class="navbar">
            <div class=""banner>
                <a href="index.html" ><img class="logo" src="./images/race128.png"></a>
                <p class="doctitle">RACE Manual</p>
            </div>
            <br/>
            <div class="toc">
                <p class="title">Project Links</p>
                <ul>
                    <li><span class="toc level2"><a href="https://github.com/NASARace/race.git">Repository</a></span></li>
                    <li><span class="toc level2"><a href="http://nasarace.github.io/race">Website</a></span></li>
                </ul>
            </div>
            <div class="pagetoc">
                <div class="toc">
                  <p class="title">Page</p>
                  <ul>
                    <li><span class="toc level1"><a href="#actor-components-and-properties">Actor Components and Properties</a></span></li>
                    <li><span class="toc level1"><a href="#actor-communication">Actor Communication</a></span></li>
                  </ul>
                </div>
            </div>
            <div class="globaltoc">
                <div class="toc">
                  <p class="title">Site</p>
                  <ul>
                    <li><span class="toc level1"><a href="index.html">About RACE</a></span></li>
                    <li>
                      <p class="toc level1">Installing RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="installation/prerequisites.html">Prerequisites</a></span></li>
                        <li><span class="toc level2"><a href="installation/download.html">Downloading RACE</a></span></li>
                        <li><span class="toc level2"><a href="installation/build.html">Building RACE</a></span></li>
                        <li><span class="toc level2"><a href="installation/osx.html">OS X Specifics</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Using RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="usage/running.html">How to Run RACE</a></span></li>
                        <li><span class="toc level2"><a href="usage/configuration.html">RACE Configuration</a></span></li>
                        <li><span class="toc level2"><a href="usage/encryption.html">Using Encrypted Configurations</a></span></li>
                        <li><span class="toc level2"><a href="usage/examples.html">RACE examples</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1 active">Actors</p>
                      <ul>
                        <li><span class="toc level2"><a href="#actor-components-and-properties">Actor Components and Properties</a></span></li>
                        <li><span class="toc level2"><a href="#actor-communication">Actor Communication</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">RACE Design</p>
                      <ul>
                        <li><span class="toc level2"><a href="design/overview.html">Design Overview</a></span></li>
                        <li><span class="toc level2"><a href="design/configuration.html">Runtime Configuration</a></span></li>
                        <li><span class="toc level2"><a href="design/raceactors.html">RaceActors</a></span></li>
                        <li><span class="toc level2"><a href="design/channeltopics.html">ChannelTopics</a></span></li>
                        <li><span class="toc level2"><a href="design/worldwind.html">WorldWind Viewer</a></span></li>
                        <li><span class="toc level2"><a href="design/remotelauncher.html">RemoteLauncher</a></span></li>
                        <li><span class="toc level2"><a href="design/layers-and-modules.html">Layers and Modules</a></span></li>
                        <li><span class="toc level2"><a href="design/directory-structure.html">Directory Structure</a></span></li>
                        <li><span class="toc level2"><a href="design/local-build.html">Local Build Configuration</a></span></li>
                        <li><span class="toc level2"><a href="design/dds.html">RACE and DDS</a></span></li>
                        <li><span class="toc level2"><a href="design/whyscala.html">Why Scala</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="examples.html">RACE Examples</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="examples.html#basic-examples">Basic Examples</a></span></li>
                        <li><span class="toc level2"><a href="examples.html#distributed-operation">Distributed Operation</a></span></li>
                        <li><span class="toc level2"><a href="examples.html#live-data-import">Live Data Import</a></span></li>
                        <li><span class="toc level2"><a href="examples.html#data-replay">Data Replay</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Documentation</p>
                      <ul>
                        <li><span class="toc level2"><a href="documentation/overview.html">RACE Documentation Overview</a></span></li>
                        <li><span class="toc level2"><a href="documentation/presentations.html">Available Slide Presentations</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="learning.html">Learning Resources</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="learning.html#scala">Scala</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#actors-and-akka">Actors and Akka</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#sbt">SBT</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#interactive-scala-akka-and-sbt-learning-environment-and-examples">Interactive Scala, Akka and SBT Learning Environment and Examples</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#git">Git</a></span></li>
                      </ul>
                    </li>
                    <li><span class="toc level1"><a href="glossary.html">Glossary</a></span></li>
                  </ul>
                </div>
            </div>
        </div>

        <div class="main">
            <h1 id="actors" class="title">Actors</h1>
            <p>The actor programming model composes concurrent systems of objects (<em>actors</em>) that only communicate through
            asynchronous messages. The <a href="https://en.wikipedia.org/wiki/Actor_model">Actor Model</a> was first published in 1973 <a class="citation" href="#hewitt73">[Hewitt73]</a> and since then has been subject
            to numerous publications and implementations. Today, actors are used in large production systems such as phone switches
            (<a href="http://www.erlang.org">Erlang</a>), cluster computing (<a href="http://spark.apache.org">Spark</a>) and general web application servers.</p>
            
            <h2 id="actor-components-and-properties" class="section">Actor Components and Properties</h2>
            <p><img class="right scale30" src="images/actor.svg" alt="actors"></p>
            <p>RACE uses the open source <a href="http://doc.akka.io/docs/akka/current/scala.html">Akka</a> framework as the implementation basis for its actors. Akka actors have a <code>ActorRef</code>
            that is used to send messages to this actor, and a <code>mailbox</code> that receives those messages. Processing of received
            messages is guaranteed to be sequential, i.e. the Akka scheduler makes sure that for each actor there is only a single
            thread at a time that processes messages. <code>ActorRefs</code> are <strong>not</strong> object references, i.e. they cannot be used to
            access fields or methods of respective actor objects.</p>
            <p>With this, actors have two properties that are crucial to avoid potential concurrency defects:</p>
            <ol class="arabic">
              <li>actors do not share internal state, their fields are not visible to the outside</li>
              <li>each actor processes its messages sequentially, i.e. it never executes in more than one thread at a time</li>
            </ol>
            <p>Those properties essentially turn actors into sequential programming constructs, under the caveat that
            there is no system guarantee about the global order in which messages are received. Ordering is only deterministic for
            each sender/receiver pair. If global message order is critical, it has to be enforced by the application.</p>
            <p>While <code>ActorRefs</code> and message passing reduce the chance of erroneous shared memory access, they do not eliminate the
            possibility of data races. Akka still allows the use of object references in actor constructor calls and message
            composition. This is mitigated by Scala&#39;s emphasis on immutable data types, which in general makes it a better choice as
            actor programming language than Java (see <a href="design/whyscala.html#why-scala">Why Scala</a> for details).</p>
            <p>Akka actors have remarkably little overhead. A basic actor definition can be as simple as:</p>
            <pre class="code scala"><code>import akka.actor.Actor

class ProbeActor extends Actor {
  def receive = {
    case msg =&gt; sender ! &quot;got it&quot;
  }
}</code></pre>
            <p>The main feature is a <a href="https://twitter.github.io/scala_school/pattern-matching-and-functional-composition.html#PartialFunction">Partial Function</a> <code>receive</code> which defines the message processing of this actor and can make
            full use of Scala&#39;s <a href="https://matt.aimonetti.net/posts/2012/09/20/what-is-scala-pattern-matching/">Pattern Matching</a>. Most notably, there is no code required for synchronization or scheduling.
            Please consult the <a href="http://doc.akka.io/docs/akka/current/scala/actors.html">Akka Actors</a> documentation for more details.</p>
            
            <h2 id="actor-communication" class="section">Actor Communication</h2>
            <p><img class="left scale60" src="images/actor-communication.svg" alt="actors"></p>
            <p>There are two basic modes of communication between actors:</p>
            <p><strong>point-to-point</strong> - a message is explicitly sent to the receiving actor</p>
            <p><strong>publish-subscribe</strong> - the receiving actor registers its interest about a certain topic on an
            *<code>EventBus</code>, and the sender publishes messages to that bus without knowing about its subscribers</p>
            <p>Akka supports both communication modes. For point-to-point communication, this includes full
            location transparency, i.e. messages can be sent to actors running in different processes or
            machines. For pub-sub, there needs to be additional infrastructure to achieve seamless remoting,
            which is provided by RACE on top of Akka.</p>
            <p>With respect to delivery, out-of-the-box Akka only provides <em>at-most-once</em> delivery, i.e. the
            weakest but also most efficient form (the other ones being <em>at-least-once</em> and <em>exactly-once</em>). The
            rationale is that in most cases reliability is a end-to-end property, i.e. it has to include
            sender/receiver actor behavior. In that respect, Akka maintains a strict actor hierarchy that
            guarantees failure notification. For details, please refer to the Akka documentation about <a href="http://doc.akka.io/docs/akka/2.4.6/general/message-delivery-reliability.html">Message
            Delivery Reliability</a></p>
            <table id="hewitt73" class="citation">
              <colgroup>
                <col class="label"></col>
                <col></col>
              </colgroup>
              <tbody>
                <tr>
                  <td>[Hewitt73]</td>
                  <td>: Carl Hewitt; Peter Bishop; Richard Steiger (1973).
                  &quot;A Universal Modular Actor Formalism for Artificial Intelligence&quot;. IJCAI.</td>
                </tr>
              </tbody>
            </table>
        </div>

    </body>
</html>