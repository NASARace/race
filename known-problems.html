<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>RACE</title>

        <link href="./race-html.css" rel="stylesheet"/>
    </head>

    <body>
        <div class="navbar">
            <div class=""banner>
                <a href="index.html" ><img class="logo" src="./images/race128.png"></a>
                <p class="doctitle">RACE Manual</p>
            </div>
            <br/>
            <div class="toc">
                <p class="title">Project Links</p>
                <ul>
                    <li><span class="toc level2"><a href="https://github.com/NASARace/race.git">Repository</a></span></li>
                    <li><span class="toc level2"><a href="http://nasarace.github.io/race">Website</a></span></li>
                </ul>
            </div>
            <div class="pagetoc">
                <div class="toc">
                  <p class="title">Page</p>
                  <ul>
                    <li>
                      <p class="toc level1"><a href="#build">Build</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="#akka-version-conflict-warning">akka version conflict warning</a></span></li>
                        <li><span class="toc level2"><a href="#sbt-1-x-not-yet-used">SBT 1.x not yet used</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="#runtime">Runtime</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="#worldwind-server-exceptions-09-08-17">WorldWind server exceptions (09/08/17)</a></span></li>
                        <li><span class="toc level2"><a href="#kafka-clients">kafka-clients</a></span></li>
                        <li><span class="toc level2"><a href="#kafkaserver">KafkaServer</a></span></li>
                        <li><span class="toc level2"><a href="#windows-console-output">Windows console output</a></span></li>
                        <li><span class="toc level2"><a href="#race-not-starting-because-of-racevieweractor-timeout">RACE not starting because of RaceViewerActor timeout</a></span></li>
                      </ul>
                    </li>
                  </ul>
                </div>
            </div>
            <div class="globaltoc">
                <div class="toc">
                  <p class="title">Site</p>
                  <ul>
                    <li><span class="toc level1"><a href="index.html">About RACE</a></span></li>
                    <li><span class="toc level1"><a href="project-log.html">Project Log</a></span></li>
                    <li>
                      <p class="toc level1">Installing RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="installation/prerequisites.html">Prerequisites</a></span></li>
                        <li><span class="toc level2"><a href="installation/download.html">Downloading RACE</a></span></li>
                        <li><span class="toc level2"><a href="installation/build.html">Building RACE</a></span></li>
                        <li><span class="toc level2"><a href="installation/pitfalls.html">Installation Pitfalls</a></span></li>
                        <li><span class="toc level2"><a href="installation/osx.html">OS X Specifics</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Using RACE</p>
                      <ul>
                        <li><span class="toc level2"><a href="usage/running.html">How to Run RACE</a></span></li>
                        <li><span class="toc level2"><a href="usage/configuration.html">RACE Configuration</a></span></li>
                        <li><span class="toc level2"><a href="usage/encryption.html">Using Encrypted Configurations</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="actors.html">Actors</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="actors.html#actor-components-and-properties">Actor Components and Properties</a></span></li>
                        <li><span class="toc level2"><a href="actors.html#actor-communication">Actor Communication</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">RACE Design</p>
                      <ul>
                        <li><span class="toc level2"><a href="design/overview.html">Design Overview</a></span></li>
                        <li><span class="toc level2"><a href="design/configuration.html">Runtime Configuration</a></span></li>
                        <li><span class="toc level2"><a href="design/raceactors.html">RaceActors</a></span></li>
                        <li><span class="toc level2"><a href="design/channeltopics.html">ChannelTopics</a></span></li>
                        <li><span class="toc level2"><a href="design/embedded-objects.html">Embedded Objects</a></span></li>
                        <li><span class="toc level2"><a href="design/connectivity.html">Connecting External Systems</a></span></li>
                        <li><span class="toc level2"><a href="design/archive-replay.html">Archive and Replay</a></span></li>
                        <li><span class="toc level2"><a href="design/worldwind.html">WorldWind Viewer</a></span></li>
                        <li><span class="toc level2"><a href="design/http-server.html">HttpServer</a></span></li>
                        <li><span class="toc level2"><a href="design/timeseries.html">Time Series Analysis</a></span></li>
                        <li><span class="toc level2"><a href="design/remotelauncher.html">RemoteLauncher</a></span></li>
                        <li><span class="toc level2"><a href="design/layers-and-modules.html">Layers and Modules</a></span></li>
                        <li><span class="toc level2"><a href="design/directory-structure.html">Directory Structure</a></span></li>
                        <li><span class="toc level2"><a href="design/repository.html">Repository Structure</a></span></li>
                        <li><span class="toc level2"><a href="design/local-build.html">Local Build Configuration</a></span></li>
                        <li><span class="toc level2"><a href="design/dds.html">RACE and DDS</a></span></li>
                        <li><span class="toc level2"><a href="design/extproject.html">Using RACE from External Projects</a></span></li>
                        <li><span class="toc level2"><a href="design/whyscala.html">Why Scala</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1"><a href="examples.html">RACE Examples</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="examples.html#basic-examples">Basic Examples</a></span></li>
                        <li><span class="toc level2"><a href="examples.html#distributed-operation">Distributed Operation</a></span></li>
                        <li><span class="toc level2"><a href="examples.html#live-data-import">Live Data Import</a></span></li>
                        <li><span class="toc level2"><a href="examples.html#data-replay">Data Replay</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1">Documentation</p>
                      <ul>
                        <li><span class="toc level2"><a href="documentation/overview.html">RACE Documentation Overview</a></span></li>
                        <li><span class="toc level2"><a href="documentation/presentations.html">Available Slide Presentations</a></span></li>
                      </ul>
                    </li>
                    <li>
                      <p class="toc level1 active">Known Problems</p>
                      <ul>
                        <li><span class="toc level2"><a href="#build">Build</a></span></li>
                        <li><span class="toc level2"><a href="#runtime">Runtime</a></span></li>
                      </ul>
                    </li>
                    <li><span class="toc level1"><a href="changes.html">Changes</a></span></li>
                    <li><span class="toc level1"><a href="todo.html">TODO List</a></span></li>
                    <li>
                      <p class="toc level1"><a href="learning.html">Learning Resources</a></p>
                      <ul>
                        <li><span class="toc level2"><a href="learning.html#scala">Scala</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#actors-and-akka">Actors and Akka</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#sbt">SBT</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#interactive-scala-akka-and-sbt-learning-environment-and-examples">Interactive Scala, Akka and SBT Learning Environment and Examples</a></span></li>
                        <li><span class="toc level2"><a href="learning.html#git">Git</a></span></li>
                      </ul>
                    </li>
                    <li><span class="toc level1"><a href="glossary.html">Glossary</a></span></li>
                  </ul>
                </div>
            </div>
        </div>

        <div class="main">
            <h1 id="known-problems" class="title">Known Problems</h1>
            
            <h2 id="build" class="section">Build</h2>
            
            <h3 id="akka-version-conflict-warning" class="section">akka version conflict warning</h3>
            <p>During a clean build SBT complains about evicting older Akka versions (2.4.19) that are requested
            by <code>akka-http</code> (more specifically, its transitive dependencies <code>akka-http-core</code> and <code>akka-parsing</code>).
            This is benign as it just reflects that respective libraries have to be backwards compatible to the
            old Akka (while being binary compatible with new versions). See
            https://github.com/akka/akka-http/issues/1101</p>
            
            <h3 id="sbt-1-x-not-yet-used" class="section">SBT 1.x not yet used</h3>
            <p>The RACE build still cannot use SBT 1.x since the sbt-laika plugin (to generate documentation and
            slides) is not yet available for the new SBT version.</p>
            
            <h2 id="runtime" class="section">Runtime</h2>
            
            <h3 id="worldwind-server-exceptions-09-08-17" class="section">WorldWind server exceptions (09/08/17)</h3>
            <p>Running configurations that use the RaceViewerActor (which encapsulates NASA WorldWind) causes </p>
            <pre><code>SEVERE: Retrieval returned no content for https://worldwind20.arc.nasa.gov/mapcache...
</code></pre>
            <p>log output during RACE startup. This is due to ongoing updates of the WorldWind server
            infrastructure and not RACE related. However, running RACE configs that use the RaceViewerActor
            on machines that did not previously cache WorldWind map tiles (by setting <code>cache-dir</code> in
            the respective RaceViewerActor config) this can cause significant delays during rendering. Users
            should make sure they have previously visited the geographic areas to show in demos with
            caching turned on.</p>
            
            <h3 id="kafka-clients" class="section">kafka-clients</h3>
            <p>RACE still uses the 0.9 <code>kafka-clients</code> libraries (<code>ConfigurableKafkaConsumer</code> and
            <code>ConfigurableKafkaProducer</code>) because it has to work with 0.9 <code>kafka</code> servers. The new 10.x
            <code>kafka-clients</code> only work with new 10.x &#39;kafka&#39; servers.</p>
            
            <h3 id="kafkaserver" class="section">KafkaServer</h3>
            <p>The <code>KafkaServer</code> is only intended to be a testing tool - it provides its own, embedded
            <code>zookeeper</code> and a very minimal configuration which can cause unreliable timing behavior. Tests
            (esp. <code>multi-jvm</code>) that use this tool should account for such timing by using delays.</p>
            
            <h3 id="windows-console-output" class="section">Windows console output</h3>
            <p>The standard Windows 10 console (command prompt) does not enable ANSI terminal sequences (color
            and control), which is used by RACEs <code>ConsoleMain</code> driver (menus). As a workaround, use the
            open sourced <a href="https://github.com/adoxa/ansicon">ansicon</a> to enable ANSI sequences.</p>
            
            <h3 id="race-not-starting-because-of-racevieweractor-timeout" class="section">RACE not starting because of RaceViewerActor timeout</h3>
            <p>On machines with slow graphics and network configurations that use a RaceViewerActor (WorldWind)
            might not start because the actor does run into initialization timeout, especially if the map
            cache is not populated. As a quick fix, start RACE with</p>
            <pre><code>./race -Drace.timeout=30 ...
</code></pre>
            <p>If this succeeds, you can specifically set a <code>create-timeout</code> in the actor config of the
            RaceActorViewer (each actor can be parameterized with <code>create-timeout</code>, <code>init-timeout</code> and
            <code>start-timeout</code>, referring to respective actor lifetime phases)</p>
        </div>

    </body>
</html>