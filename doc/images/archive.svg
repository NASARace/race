<?xml version="1.0" encoding="utf-8"?>
<svg width="100%" height="100%" version="1.1" viewBox="209.5984 358.0236 601.7166 304.0315" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <filter id="shadow1" width="150%" height="150%">
      <feGaussianBlur in="SourceAlpha" result="blur" stdDeviation="2" />
      <feOffset dx="2" dy="2" in="blur" result="offsetBlur" />
      <feMerge>
        <feMergeNode in="offsetBlur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
  </defs>
  <marker id="marker1" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955">
    <path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#000000" fill-opacity="1" stroke="#000000" stroke-opacity="1" />
  </marker>
  <marker id="marker2" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955">
    <path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#000000" fill-opacity="1" stroke="#000000" stroke-opacity="1" />
  </marker>
  <marker id="marker3" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955">
    <path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#000000" fill-opacity="1" stroke="#000000" stroke-opacity="1" />
  </marker>
  <marker id="marker4" markerUnits="strokeWidth" orient="auto" refX="-13.60705" refY="0" markerWidth="15.52697" markerHeight="11.87546" viewBox="-14.52697 -5.937729 15.52697 11.87546">
    <path d="M-13.52697 -4.937729 L0 0 L-13.52697 4.937728 Z " fill="none" stroke="#7F7F7F" stroke-opacity="1" />
  </marker>
  <marker id="marker5" markerUnits="strokeWidth" orient="auto" refX="-6.303526" refY="0" markerWidth="8.763483" markerHeight="6.937729" viewBox="-7.763484 -3.468865 8.763483 6.937729">
    <path d="M-6.763484 -2.468865 L0 0 L-6.763484 2.468864 Z " fill="#000000" fill-opacity="1" stroke="#000000" stroke-opacity="1" />
  </marker>
  <marker id="marker6" markerUnits="strokeWidth" orient="auto" refX="-6.303526" refY="0" markerWidth="8.763483" markerHeight="6.937729" viewBox="-7.763484 -3.468865 8.763483 6.937729">
    <path d="M-6.763484 -2.468865 L0 0 L-6.763484 2.468864 Z " fill="#7F7F7F" fill-opacity="1" stroke="#7F7F7F" stroke-opacity="1" />
  </marker>
  <g id="layer1" inkscape:label="Layer 1" inkscape:groupmode="layer">
    <line x1="418.1102" y1="545.6693" x2="448.4574" y2="545.6693" marker-end="url(#marker1)" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <rect x="496.063" y="453.5433" width="162.9921" height="134.6457" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FAFDE1" fill-opacity="1" filter="url(#shadow1)" />
    <text x="541.8804" y="469.5031" font-size="12" fill="#000000" fill-opacity="1" font-family="Helvetica" font-weight="bold" font-style="normal">ArchiveActor</text>
    <line x1="496.063" y1="467.7165" x2="659.0551" y2="467.7165" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <rect x="538.5827" y="503.1496" width="106.2992" height="42.51968" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FCDBDE" fill-opacity="1" filter="url(#shadow1)" />
    <text x="554.4921" y="519.1094" font-size="12" fill="#000000" fill-opacity="1" font-family="Helvetica" font-weight="bold" font-style="normal">ArchiveWriter</text>
    <line x1="538.5827" y1="517.3228" x2="644.8819" y2="517.3228" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <text x="549.6693" y="540.1406" font-size="12" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">write(date,msg</text>
    <text x="549.6693" y="555.1406" font-size="12" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">)</text>
    <line x1="460.6299" y1="488.9764" x2="460.6299" y2="581.1024" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <rect x="347.2441" y="531.496" width="70.86614" height="21.25984" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FFFFFF" fill-opacity="1" filter="url(#shadow1)" />
    <text x="379.6762" y="547.4557" font-size="12" fill="#7F7F7F" fill-opacity="1" font-family="Helvetica" font-weight="bold" font-style="normal">...</text>
    <text x="521.3228" y="575.5737" font-size="12" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">handleMessage(</text>
    <text x="521.3228" y="490.5344" font-size="12" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">createWriter()</text>
    <line x1="460.6299" y1="566.9291" x2="505.1503" y2="566.9291" marker-end="url(#marker2)" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <g>
      <g>
        <g>
          <path d="M744.0945 509.6063 L744.0945 548.3464 Q752.1221 554.8032 776.2047 554.8032 Q800.2874 554.8032 808.315 548.3464 L808.315 509.6063 Z " opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FFFFFF" fill-opacity="1" />
          <text x="756.9879" y="537.7383" font-size="12" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">Archive</text>
          <ellipse cx="776.2047" cy="509.6063" rx="32.11025" ry="6.456685" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FFFFFF" fill-opacity="1" />
        </g>
      </g>
    </g>
    <line x1="637.7953" y1="531.496" x2="731.9219" y2="531.496" marker-end="url(#marker3)" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <text x="412.3765" y="485.1433" font-size="12" fill="#000000" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">message bus</text>
    <text x="349.0782" y="527.663" font-size="12" fill="#7F7F7F" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">importer, filter, ..</text>
    <text x="507.6451" y="527.0527" font-size="12" fill="#FF0000" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">data
</text>
    <text x="502.3189" y="542.0527" font-size="12" fill="#FF0000" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">format</text>
    <g>
      <ellipse cx="701.5748" cy="425.1968" rx="14.17323" ry="14.17323" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FFFFFF" fill-opacity="1" />
      <line x1="701.5748" y1="425.1968" x2="708.6614" y2="418.1102" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
      <line x1="701.5748" y1="425.1968" x2="701.5748" y2="432.2834" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    </g>
    <text x="452.5497" y="449.5134" font-size="12" fill="#FF0000" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">time, msg subscription</text>
    <line x1="581.1024" y1="453.5433" x2="581.1024" y2="439.8039" marker-end="url(#marker4)" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" />
    <rect x="517.3228" y="403.937" width="127.5591" height="21.25984" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FFFFFF" fill-opacity="1" filter="url(#shadow1)" />
    <text x="523.741" y="421.1669" font-size="12" fill="#7F7F7F" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">SubscribingRaceActor</text>
    <path d="M616.5354 566.9291 L630.7087 566.9291 L630.7087 560.0594" marker-end="url(#marker5)" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill-opacity="0" />
    <text x="570.1417" y="616.4294" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">def handleMessage = { ..
</text>
    <text x="570.1417" y="628.4294" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">    case BusEvent(msg) =&gt;
</text>
    <text x="570.1417" y="640.4294" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">      writer.write(simTime,msg)</text>
    <text x="216.5984" y="375.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">actors = [
</text>
    <text x="216.5984" y="387.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">  { name = “myArchiver”
</text>
    <text x="216.5984" y="399.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">     class = “ArchiverActor”
</text>
    <text x="216.5984" y="411.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">     read-from = “/some/channel”
</text>
    <text x="216.5984" y="423.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">     ..
</text>
    <text x="216.5984" y="435.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">     writer = {
</text>
    <text x="216.5984" y="447.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">         class = “XWriter”
</text>
    <text x="216.5984" y="459.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">         pathname = “my-archive.dat”
</text>
    <text x="216.5984" y="471.4846" font-size="10" fill="#0000FF" fill-opacity="1" font-family="Courier" font-weight="normal" font-style="normal">         ..
</text>
    <path d="M701.5748 439.3701 L701.5748 474.8032 L666.3586 474.8032" marker-end="url(#marker6)" opacity="1" stroke="#7F7F7F" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill-opacity="0" />
    <text x="709.5883" y="463.8835" font-size="12" fill="#7F7F7F" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">sim time</text>
  </g>
</svg>