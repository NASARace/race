<?xml version="1.0" encoding="utf-8"?><svg width="100%" height="100%" version="1.1" viewBox="94.99999 99.99997 1042 623" style="background-color:#FFFFFF" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><defs><filter id="shadow1" width="150%" height="150%"><feGaussianBlur in="SourceAlpha" result="blur" stdDeviation="5" /><feOffset dx="5" dy="5" in="blur" result="offsetBlur" /><feMerge><feMergeNode in="offsetBlur" /><feMergeNode in="SourceGraphic" /></feMerge></filter></defs><marker id="marker1" markerUnits="strokeWidth" orient="auto" refX="11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-1 -5.114774 13.27247 10.22955"><path d="M11.27247 4.114773 L0 0 L11.27247 -4.114774 Z " fill="#FB0106" fill-opacity="1" stroke="#FB0106" stroke-opacity="1" /></marker><marker id="marker2" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955"><path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#FB0106" fill-opacity="1" stroke="#FB0106" stroke-opacity="1" /></marker><marker id="marker3" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955"><path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#FB0106" fill-opacity="1" stroke="#FB0106" stroke-opacity="1" /></marker><marker id="marker4" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955"><path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#FB0106" fill-opacity="1" stroke="#FB0106" stroke-opacity="1" /></marker><marker id="marker5" markerUnits="strokeWidth" orient="auto" refX="-11.17254" refY="0" markerWidth="13.27247" markerHeight="10.22955" viewBox="-12.27247 -5.114774 13.27247 10.22955"><path d="M-11.27247 -4.114774 L0 0 L-11.27247 4.114773 Z " fill="#FB0106" fill-opacity="1" stroke="#FB0106" stroke-opacity="1" /></marker><g id="layer1"><rect x="513" y="261" width="279" height="81" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#F5FDA4" fill-opacity="1" /><rect x="198" y="531" width="351" height="72" opacity="1" stroke="#FB0106" stroke-opacity="0.3099142" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FCFFBC" fill-opacity="0.3827025" /><rect x="207" y="360" width="180" height="36" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FCFFBC" fill-opacity="1" /><rect x="207" y="288" width="243" height="36" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#FEFFC8" fill-opacity="1" /><text x="156" y="231.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">  columns: {
</text><text x="156" y="245.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="156" y="259.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">    ".": {
</text><text x="156" y="273.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="156" y="287.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">      "/data/cat_A":  { 
</text><text x="156" y="301.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="156" y="315.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        src:  "(IntSum ./field_{1,2})" },
</text><text x="156" y="329.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="156" y="343.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">      "/data/cat_B/field_2":  { 
</text><text x="156" y="357.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        src:  "(RealSet ../field_1)", 
</text><text x="156" y="371.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="156" y="385.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        trigger: “12:00:00Z” },</text><text x="165" y="505.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">  constraints: {
</text><text x="165" y="519.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="165" y="533.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">    ".": {
</text><text x="165" y="547.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">      "local-cat_A/field_1-range": {
</text><text x="165" y="561.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        info: "field_1 within [8..12]",
</text><text x="165" y="575.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        src: "(IntWithin /data/cat_A/field_1 8 12)",
</text><text x="165" y="589.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        level: 3,
</text><text x="165" y="603.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        mark: "/data/cat_A/field_1"  },
</text><text x="165" y="617.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="165" y="631.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">      "cat_A/field_1-total": {
</text><text x="165" y="645.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        info: "total of all cat_A/field_1 &gt; 80",
</text><text x="165" y="659.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        src: "(IntGt (IntSum ../*::/data/cat_A/field_1) 80)",
</text><text x="165" y="673.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">        level: 2
</text><text x="165" y="687.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">      }</text><text x="129.7666" y="197.3004" font-size="18" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">CellValueFormula</text><text x="125.2798" y="476.3004" font-size="18" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">ConstraintFormula</text><text x="556" y="311.5" font-size="20" fill="#000000" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">( &lt;function&gt; &lt;arg&gt; … )</text><text x="571.5752" y="134.3004" font-size="18" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">CellFunctionLibrary</text><text x="642" y="163.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">object IntSum extends CellFunction[Long]
</text><text x="642" y="177.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">     with ArityGe1  with IntegerDomain with IntegerCoDomain {
</text><text x="642" y="191.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">
</text><text x="642" y="205.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">  def eval(ctx: EvalContext, args: Seq[CellExpression[_]]): Long = 
</text><text x="642" y="219.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">    evaluateArgs(ctx,args).foldLeft(0L)( (sum,n) =&gt; sum+n )
</text><text x="642" y="233.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">}
</text><text x="642" y="247.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">. . .</text><text x="715" y="368.0893" font-size="17" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">CellRef:</text><text x="795" y="370.3" font-size="16" fill="#000000" fill-opacity="1" font-family="Helvetica" font-weight="normal" font-style="normal">[ &lt;col-pattern&gt; “::” ] &lt;row-pattern&gt;</text><text x="715" y="422.0893" font-size="17" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">CellFunctionCall</text><text x="715" y="476.0893" font-size="17" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">CellValueConst</text><text x="750" y="397.0301" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">../provider*::**/field_{1,2}</text><text x="749.9999" y="451.03" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">(IntMax ../field_1 ../field_2)</text><text x="758.9999" y="505.03" font-size="12" fill="#0000FE" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">42</text><line x1="612" y1="275.8275" x2="612" y2="144" marker-start="url(#marker1)" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><line x1="684" y1="468" x2="684" y2="327.1725" marker-end="url(#marker2)" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><line x1="702" y1="360" x2="684" y2="360" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><line x1="702" y1="414" x2="684" y2="414" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><line x1="702" y1="468" x2="684" y2="468" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><line x1="450" y1="306" x2="536.8275" y2="306" marker-end="url(#marker3)" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><text x="423.3879" y="400.2839" font-size="33" fill="#000000" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">🕑</text><text x="462" y="381.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">optional time trigger:
</text><text x="462" y="399.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">  - relative: “60m”
</text><text x="462" y="417.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">  - absolute: </text><line x1="387" y1="387" x2="423" y2="387" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><text x="615" y="597.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">normal bool formula with additional action context:
</text><text x="615" y="615.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">  - id
</text><text x="615" y="633.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">  - explanation
</text><text x="615" y="651.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">  - severity
</text><text x="615" y="669.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">  - optional cell association</text><text x="282" y="233.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">column context</text><text x="345" y="264.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">target row</text><line x1="234.0313" y1="247.3516" x2="271.4844" y2="232.4023" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><line x1="293.5352" y1="273.043" x2="332.8711" y2="258.4297" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><text x="759" y="120.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">config (extensible)</text><text x="191.9999" y="147.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">used to automatically
</text><text x="191.9999" y="165.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">compute new cell values</text><text x="308.9999" y="467.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">used to detect
</text><text x="308.9999" y="485.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">(cross) column/cell
</text><text x="308.9999" y="503.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">property violations </text><rect x="900" y="288" width="162" height="36" rx="18" ry="18" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#D1FEF0" fill-opacity="1" filter="url(#shadow1)" /><text x="914" y="313.0301" font-size="12" fill="#000000" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">columnDataChange {…}</text><line x1="765" y1="306" x2="878.8274" y2="306" marker-end="url(#marker4)" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><text x="812.9999" y="291.9749" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">eval</text><rect x="684" y="531" width="360" height="36" rx="18" ry="18" opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" fill="#D1FEF0" fill-opacity="1" filter="url(#shadow1)" /><text x="698" y="556.03" font-size="12" fill="#000000" fill-opacity="1" font-family="Menlo" font-weight="normal" font-style="normal">constraintChange { violated: .. resolved: .. }</text><line x1="549" y1="549" x2="662.8274" y2="549" marker-end="url(#marker5)" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><text x="596.9999" y="534.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">eval</text><text x="1020" y="147.975" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">typed</text><line x1="968.5352" y1="156.043" x2="1007.871" y2="141.4297" opacity="1" stroke="#FB0106" stroke-opacity="1" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-dasharray="none" /><text x="641.9999" y="282.9749" font-size="16" fill="#FB0106" fill-opacity="1" font-family="Arial" font-weight="normal" font-style="normal">s-expr with cell args</text></g></svg>